"use strict";var AudioPixel=function(n){function o(n,o){var t=new XMLHttpRequest;t.responseType="arraybuffer",t.onload=function(){f.decodeAudioData(t.response,function(n){s=n,o&&o()},function(){console.log("!\u54ce\u739b\uff0c\u6587\u4ef6\u89e3\u7801\u5931\u8d25:(")})},t.open("GET",n,!0),t.send(null)}function t(n,o,t){r=n.createBufferSource(),c=n.createAnalyser(),r.connect(c),c.connect(n.destination),r.buffer=o,r.loop=t}function e(n){s&&(t(f,s,n?n:!1),r.start(0),a=!0)}function u(){s&&(r.stop(0),a=!1)}function i(n){n.url&&o(n.url,function(){n.onFinish&&n.onFinish()})}var r,c,a=!1,f=null,s=null,d=!1;n.AudioContext=n.AudioContext||n.webkitAudioContext||n.mozAudioContext||n.msAudioContext;try{f=new AudioContext,d=!0}catch(l){console.log("!\u59b3\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301AudioContext:("),console.log(l)}return{isSupport:function(){return d},importAudio:i,play:e,pause:u,getCurrentTime:function(){return f.currentTime},getAudioArray:function(){var n=new Uint8Array(c.frequencyBinCount);return c.getByteFrequencyData(n),n}}}(window,document,void 0);