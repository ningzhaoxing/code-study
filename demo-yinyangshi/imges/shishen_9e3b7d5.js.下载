"use strict";nie.define("Shishen",function(){var e=null,i=!1,s=nie.require("nie.util.PopDialog"),a=nie.require("Scroll");s.config({theme:"yellow"}),console.log("2");var n=function(e){t(),console.log("1"),l(e)},t=function(){function e(){var e=n.val();""!=e?window.open("//yys.163.com/shishen/index.html?name="+e,"_blank"):s.Alert("\u8bf7\u8f93\u5165\u5f0f\u795e\u540d\u79f0")}var n=$(".shishen_search .keyword");$(".shishen_search .search_btn").click(function(){e()}),$(".shishen_search .keyword").keypress(function(i){13==i.which&&e()}),$(".shishen_tabs a").click(function(){var e=$(this),i=e.data("tab"),s=e.data("ld"),t=e.data("mt");n.val(""),e.addClass("cur").siblings().removeClass("cur"),o({level:i,interactive:s,material:t}),a.update()}),$(".wrap").on("click",".shishen_list li",function(){var e=$(this),i=e.data("id"),s=$('#shishenBigImg .bigImg_list .bigImg_item[data-id="'+i+'"]').index();$(".ss_all").hide(),$("#shishenBigImg").stop().fadeIn(1e3),$("#shishenBigImg .bigImg_list_tab span").eq(s).click(),a.update()}).on("click",".toList",function(){$("#shishenBigImg").hide(),i||(o(),i=!0),$(".ss_all").stop().fadeIn(1e3),a.update()}),$(".ss_control_btn").bind("click",function(){a.update()})},l=function(i){console.log("3"),$.getJSON("https://yys.res.netease.com/pc/gw/20180913151832/js/app/shishen.json?v=552",function(s){console.log("4"),e=s,console.log(e),$(".toList").removeClass("hide"),h(),i&&i()}),console.log("5")},h=function(){var i=[];i=e;for(var s="",a="",n=i.length,t=0;n>t;t++){var l=i[t].id,h=i[t].name,o="//yys.163.com/shishen/"+l+".html";s+='<div class="bigImg_item" data-id="'+l+'" data-name="'+h+'">                <div class="big_container">                    <a href="'+o+'" target="_blank" class="item_name">                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/name/'+l+'.png?4" alt="'+h+'"/>                    </a >                    <a href="'+o+'" target="_blank" class="item_role">                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/role/'+l+'.png?3" alt="'+h+'"/>                    </a >                </div></div>',a+="<span></span>"}$("#shishenBigImg .bigImg_list").html(s),$("#shishenBigImg .bigImg_list_tab").html(a),$("#shishenBigImg .bigImg_wrap").slide({titCell:".bigImg_list_tab span",mainCell:".bigImg_list",prevCell:".bigImg_btn_left",nextCell:".bigImg_btn_right",switchLoad:"_src",delayTime:500,trigger:"click",easing:"swing",effect:"fold",startFun:function(e){var i=$("#shishenBigImg .bigImg_list .bigImg_item"),s=i.eq(e);i.find(".item_name").removeClass("on"),i.find(".item_role").removeClass("on"),setTimeout(function(){s.find(".item_name").addClass("on"),s.find(".item_role").addClass("on")},500);var a,t;a=i.eq(e-1).data("name"),t=e>=n-1?i.eq(0).data("name"):i.eq(e+1).data("name"),$("#shishenBigImg .bigImg_btn_left p").html(a),$("#shishenBigImg .bigImg_btn_right p").html(t)}})},o=function(i){function s(e){if(e&&null!=e){var i="<i class='icon-new'></i>";return i}return""}var a=[];if(void 0==i||"all"==i.level)if(void 0!=i&&void 0!=i.interactive)for(var n=0;n<e.length;n++)void 0!=e[n].interactive&&a.push(e[n]);else if(void 0!=i&&void 0!=i.material)for(var n=0;n<e.length;n++)void 0!=e[n].material&&a.push(e[n]);else a=e;else if(void 0!=i.level)for(var n=0;n<e.length;n++)e[n].level==i.level&&void 0==e[n].interactive&&void 0==e[n].material&&a.push(e[n]);else if(void 0!=i.name)for(var n=0;n<e.length;n++)e[n].name.indexOf(i.name)>-1&&a.push(e[n]);for(var t="",l=a.length,n=0;l>n;n++)t+=(n+1)%27==1?'<ul><li data-id="'+a[n].id+'"><a href="javascript:;" class="shishen_item">                            <span class="tb"></span>                            <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[n].id+'.png?1" alt="'+a[n].name+'">'+s(a[n].isNew)+'</a>                            <p class="td">'+a[n].name+"</p>                            </li>":(n+1)%27==0?'<li data-id="'+a[n].id+'"><a href="javascript:;" class="shishen_item">                        <span class="tb"></span>                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[n].id+'.png?1" alt="'+a[n].name+'">'+s(a[n].isNew)+'</a>                        <p class="td">'+a[n].name+"</p>                        </li></ul>":'<li data-id="'+a[n].id+'"><a href="javascript:;" class="shishen_item">                        <span class="tb"></span>                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[n].id+'.png?1" alt="'+a[n].name+'">'+s(a[n].isNew)+'</a>                        <p class="td">'+a[n].name+"</p>                        </li>";l%27!=0&&(t+="</ul>"),t=""==t?'<p class="no_result">\u672a\u641c\u7d22\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5f0f\u795e\uff01</p>':t,$(".shishen_wrap").html('<div class="shishen_list clr">'+t+"</div>"),setTimeout(function(){$(".shishen_list").addClass("show")},200),$(".shishenlist_container").slide({mainCell:".shishen_list",autoPage:!0,effect:"left",pnLoop:!1,delayTime:400,easing:"swing",prevCell:".ss_prev",nextCell:".ss_next",switchLoad:"_src"})};n()});